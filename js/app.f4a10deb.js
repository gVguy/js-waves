(function(t){function e(e){for(var a,o,r=e[0],l=e[1],c=e[2],h=0,p=[];h<r.length;h++)o=r[h],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push(["8c94","chunk-vendors"]),n()})({"7c4e":function(t,e,n){"use strict";n("94a3")},"8c94":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),i=(n("38cf"),{id:"app"}),s=Object(a["f"])("h1",null,"nice-waves",-1),o=Object(a["f"])("h3",null,[Object(a["f"])("a",{class:"docsLink",href:"https://github.com/gVguy/nice-waves#nice-waves"},"Docs")],-1),r=Object(a["f"])("div",{id:"waves"},null,-1),l={class:"setup"},c={class:"setup-content"},u={class:"setup-block main"},h=Object(a["f"])("h3",null,"fills",-1),p=["onClick"],f={key:0},v=["min","max","step","onUpdate:modelValue","name"],d={key:1},y={class:"setup-block main"},m=Object(a["g"])(" Re-mount "),b=[m],g=Object(a["g"])(" Reset "),w=[g],O={class:"lang-js"};function j(t,e,n,m,g,j){var S=Object(a["n"])("color-input"),x=Object(a["o"])("tooltip");return Object(a["l"])(),Object(a["e"])("div",i,[s,o,r,Object(a["f"])("div",l,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["m"])(j.opts.fills,(function(t,e){return Object(a["l"])(),Object(a["e"])("div",{class:"fill-blender",style:Object(a["k"])({background:t}),key:"fill_blender_"+e},null,4)})),128)),Object(a["f"])("div",c,[Object(a["f"])("div",u,[h,(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["m"])(g.fills,(function(t,e){return Object(a["l"])(),Object(a["e"])("div",{class:"color-input-wrapper",key:"fill_"+t.id},[Object(a["h"])(S,{modelValue:t.color,"onUpdate:modelValue":function(e){return t.color=e},onChange:j.fillChangeHandler},null,8,["modelValue","onUpdate:modelValue","onChange"]),1!=g.fills.length?(Object(a["l"])(),Object(a["e"])("button",{key:0,class:"remove-fill",onClick:function(t){return j.removeFill(e)}}," ✕ ",8,p)):Object(a["d"])("",!0)])})),128)),Object(a["f"])("button",{class:"add-fill",onClick:e[0]||(e[0]=function(){return j.addFill&&j.addFill.apply(j,arguments)})},"⊕")]),Object(a["f"])("div",{class:"setup-grid",style:Object(a["k"])({gridTemplateColumns:"1fr ".repeat(t.propsLayout.cols)})},[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["m"])(t.propsLayout.items,(function(t){return Object(a["l"])(),Object(a["e"])("div",{class:"setup-block",key:"setup_"+t},[t?(Object(a["l"])(),Object(a["e"])("div",f,[Object(a["f"])("h3",null,Object(a["p"])(t),1),Object(a["t"])(Object(a["f"])("input",{type:"range",min:g.wavesOpts[t].range[0],max:g.wavesOpts[t].range[1],step:g.wavesOpts[t].range[1]>5?1:.01,"onUpdate:modelValue":function(e){return g.wavesOpts[t]["value"]=e},name:t,onChange:e[1]||(e[1]=function(){return j.parameterChangeHandler&&j.parameterChangeHandler.apply(j,arguments)})},null,40,v),[[a["q"],g.wavesOpts[t]["value"],void 0,{number:!0}]]),Object(a["f"])("p",null,Object(a["p"])(g.wavesOpts[t].value),1)])):(Object(a["l"])(),Object(a["e"])("div",d))])})),128))],4),Object(a["f"])("div",y,[Object(a["f"])("button",{class:"control-btn",onClick:e[2]||(e[2]=function(){return j.playStopHandler&&j.playStopHandler.apply(j,arguments)})},Object(a["p"])(j.playStopText),1),Object(a["f"])("button",{class:"control-btn",onClick:e[3]||(e[3]=function(){return j.showOptsHandler&&j.showOptsHandler.apply(j,arguments)})}," Show opts "),Object(a["t"])(Object(a["f"])("button",{class:"control-btn",onClick:e[4]||(e[4]=function(){return j.mountWaves()})},b,512),[[x,"Generate new instance with same options"]]),Object(a["t"])(Object(a["f"])("button",{class:"control-btn",onClick:e[5]||(e[5]=function(){return j.resetOpts&&j.resetOpts.apply(j,arguments)})},w,512),[[x,"Reset all opts to default settings"]])])])]),Object(a["t"])(Object(a["f"])("div",{class:"popup-opts",onPointerdown:e[7]||(e[7]=function(){return j.showOptsHandler&&j.showOptsHandler.apply(j,arguments)})},[Object(a["f"])("div",{class:"code",onPointerdown:e[6]||(e[6]=Object(a["v"])((function(){}),["stop"]))},[Object(a["f"])("pre",null,[Object(a["f"])("code",O,Object(a["p"])(j.optsString),1)])],32)],544),[[a["r"],g.showOpts]])])}var S=n("3835"),x=(n("c1f9"),n("d81d"),n("b64b"),n("159b"),n("ac1f"),n("5319"),n("99af"),n("caad"),n("b0c0"),n("cb29"),n("a434"),n("0481"),n("2909")),k=n("53ca");n("4fad"),n("fb6a");function R(t,e){return Math.floor(t+Math.random()*(e-t+1))}function P(t,e,n,a){var i=(a-n)*e;return t-=.5*i,t<n?t=n:t+i>a&&(t=a-i),t+Math.random()*i}function E(t,e,n){return Math.min(e,Math.max(n,t))}function H(t,e){for(var n=document.createElementNS("http://www.w3.org/2000/svg",t),a=0,i=Object.entries(e);a<i.length;a++){var s=Object(S["a"])(i[a],2),o=s[0],r=s[1];n.setAttributeNS(null,o,r)}return n}function C(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}var N={fills:{value:["rgba(0, 0, 0, 0.65)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.5)"]},flowRate:{value:6,range:[0,50]},swayRate:{value:3.2,range:[0,5]},wavelength:{value:14,range:[1,20]},complexity:{value:6,range:[1,10]},curviness:{value:.8,range:[0,1]},offset:{value:0,range:[0,1]},randomFlowRate:{value:0,range:[0,1]},randomWavelength:{value:0,range:[0,1]},randomHeight:{value:.4,range:[0,1]},swayVelocity:{value:.5,range:[0,1]},randomSwayRate:{value:.4,range:[0,1]},randomOffset:{value:0,range:[0,1]}},M=n("d4ec"),J=n("bee2");n("a9e3"),n("a15b"),n("b680");function V(t,e,n){var a=[];return t.forEach((function(t){t=JSON.parse(JSON.stringify(t)),t.points&&t.points.forEach((function(t){void 0!==t[e]&&(t[e]+=n)})),a.push(t)})),a}function A(t,e){var n=[],a=480;return t.forEach((function(i,s){i=JSON.parse(JSON.stringify(i));var o=i.points[i.points.length-1].y;o=s!=t.length-1?o<250?P(o,e,2,250):P(o,e,250,480):480,i.points.forEach((function(t,e){return t.y=0==e?a:o})),a=o,n.push(i)})),n}function F(t){return t.map((function(t){return t.cmd+" "+(t.points?t.points.map((function(t){return(void 0===t.x?"":Number(t.x.toFixed(1)))+" "+(void 0===t.y?"":Number(t.y.toFixed(1)))})).join(" "):"")})).join(" ")}var W=function(){function t(e){var n=this;for(var a in Object(M["a"])(this,t),e)this[a]=e[a];this.complexity=Math.round(e.complexity),this.swayRate=this.swayRate?501-Math.round(100*this.swayRate):0,this.period=P(1e3*this.wavelength,this.randomWavelength,500*this.wavelength,1500*this.wavelength),this.path=_.call(this);var i=this.path.clone().double().string,s=this.period/this.complexity,o=this.offset*this.id*s;o=P(o,this.randomOffset,0,2*s),this.svgEl=H("svg",{width:2*this.period,x:-o}),this.pathEl=H("path",{d:i,fill:this.fill,"shape-rendering":"geometricPrecision"}),this.svgEl.append(this.pathEl),this.swayRate&&function(){var t=n.path,e=n.path.clone().morph(n.swayVelocity),a=t.curve.map((function(t,n){return t.points.map((function(t,a){var i=t.y,s=e.curve[n].points[a].y,o=i<s?1:-1;return(Math.max(i,s)-Math.min(i,s))*o}))}));n.swayDirection=1,n.swayIndex=0,n.swayPathStates=[{path:t,string:i}];for(var s=function(t){var e=1/n.swayRate*t,i=n.path.clone();i.curve.forEach((function(t,n){t.points.forEach((function(t,i){t.y+=a[n][i]*C(e)}))})),n.swayPathStates.push({path:i,string:i.double().string})},o=1;o<n.swayRate;o++)s(o);n.swayPathStates.push({path:e,string:e.double().string})}()}return Object(J["a"])(t,[{key:"x",get:function(){return Number(this.svgEl.getAttribute("x"))},set:function(t){this.svgEl.setAttribute("x",t)}},{key:"animationStep",value:function(){this.flowStep(),this.swayStep()}},{key:"flowStep",value:function(){if(this.flowRate){var t=this.x-this.flowRate;t<-this.period&&(t+=this.period),this.x=t}}},{key:"swayStep",value:function(){if(this.swayPathStates){(this.swayIndex==this.swayPathStates.length-1||-1==this.swayDirection&&0==this.swayIndex)&&(this.swayDirection=0-this.swayDirection);var t=this.swayPathStates[this.swayIndex];this.path=t.path,this.pathEl.setAttribute("d",t.string),this.swayIndex+=this.swayDirection}}}]),t}();function _(){var t=this,e=2*this.complexity,n=this.period/e,a=Array(e).fill(n).map((function(t,e){return t*(e+1)})),i=480,s=480;return a=a.map((function(e){var a=R(0,230)*t.randomHeight;i=Math.round(e)!=Math.round(t.period)?i<250?480-a:2+a:480;var o={cmd:"C",points:[{x:e-n+n*t.curviness,y:s},{x:e-n*t.curviness,y:i},{x:e,y:i}]};return s=i,o})),new D({open:[{cmd:"M",points:[{x:0,y:480}]}],curve:a,close:[{cmd:"V",points:[{y:500}]},{cmd:"H",points:[{y:0}]},{cmd:"Z"}]})}var D=function(){function t(e){Object(M["a"])(this,t),this.open=e.open,this.curve=e.curve,this.close=e.close}return Object(J["a"])(t,[{key:"double",value:function(){return this.curve=this.curve.concat(V(this.curve,"x",this.curve[this.curve.length-1].points[2].x),this.close),this}},{key:"morph",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.curve=A(this.curve,t),this}},{key:"clone",value:function(){var e=JSON.parse(JSON.stringify({open:this.open,curve:this.curve,close:this.close}));return new t(e)}},{key:"string",get:function(){return F(this.open.concat(this.curve,this.close))}}]),t}();function q(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof q))return new q(e);for(var n=0,a=Object.entries(N);n<a.length;n++){var i=Object(S["a"])(a[n],2),s=i[0],o=i[1],r=e[s],l=o.value;void 0==r||Object(k["a"])(r)!=Object(k["a"])(l)?this[s]=l:o.range?this[s]=E.apply(void 0,Object(x["a"])(o.range).concat([r])):this[s]=r}this.curviness*=.5,this.randomSwayRate*=.5,this.offset/=this.fills.length,this.waves=[];for(var c=function(e){var n={id:e+1,randomHeight:t.randomHeight,offset:t.offset,curviness:t.curviness,wavelength:t.wavelength,randomWavelength:t.randomWavelength,fill:t.fills[e],randomOffset:t.randomOffset,swayVelocity:t.swayVelocity,complexity:t.complexity};Array("flowRate","swayRate").forEach((function(e){n[e]=t[e]>0?P(t[e],t["random"+e.charAt(0).toUpperCase()+e.slice(1)],N[e].range[0],N[e].range[1]):0}));var a=new W(n);t.waves.push(a)},u=0;u<this.fills.length;u++)c(u);this.animation={isPlaying:!1}}q.prototype={mount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#waves";if("string"==typeof t&&(t=document.querySelector(t)),!t||1!==t.ELEMENT_NODE)return console.error("waves: can't mount"),!1;var e=H("svg",{viewBox:"0 0 1000 500",width:"100%",height:"100%",preserveAspectRatio:"none"});return t.innerHTML="",this.waves.forEach((function(t){return e.append(t.svgEl)})),t.append(e),this.play(),this.mounted=e,this},play:function(){var t=this;return!this.animation.isPlaying&&(this.flowRate||this.swayRate&&this.swayVelocity)?(this.animation.request=window.requestAnimationFrame((function(){return t.animationStep()})),this.animation.isPlaying=!0,this):this},stop:function(){return this.animation.isPlaying?(window.cancelAnimationFrame(this.animation.request),this.animation.isPlaying=!1,this.waves.forEach((function(t){return t.svgEl.pauseAnimations()})),this):this},animationStep:function(){this.waves.forEach((function(t){return t.animationStep()})),this.animation.request=window.requestAnimationFrame(this.animationStep.bind(this))}};var T=q,I=n("9ed2"),L=n("8c7a"),U=n.n(L);n("cb55"),n("416b"),n("a878");U.a.manual=!0;var B={name:"ServeDev",components:{ColorInput:I["a"]},data:function(){return{waves:{animation:{isPlaying:null}},fills:[],showOpts:!1,wavesOpts:{fills:[],flowRate:0,swayRate:0,swayVelocity:0}}},computed:{playStopText:function(){return this.waves.animation.isPlaying?"Stop":"Play"},opts:function(){var t=this,e=Object.fromEntries(Object.keys(this.wavesOpts).map((function(e){return[e,t.wavesOpts[e].value]})));return e},optsString:function(){var t=JSON.parse(JSON.stringify(this.opts));return Object.keys(t).forEach((function(e){JSON.stringify(t[e])==JSON.stringify(N[e].value)&&delete t[e]})),t=JSON.stringify(t,null,2).replace(/"(\S*)":/gm,"$1:"),"const opts = ".concat(t,"\n\nwaves(opts).mount()").concat(this.waves.animation.isPlaying?"":".stop()")}},methods:{fillChangeHandler:function(){this.wavesOpts.fills={value:this.fills.map((function(t){return t.color}))},this.mountWaves()},parameterChangeHandler:function(t){var e=!1;["flowRate","swayRate"].includes(t.target.name)&&t.target.value>0&&(e=!0),this.mountWaves(e)},mountWaves:function(t){var e=!this.waves.mounted||this.waves.animation.isPlaying;this.waves=T(this.opts).mount(),e||t||this.waves.stop()},playStopHandler:function(){this.waves.animation.isPlaying?this.waves.stop():this.waves.play()},addFill:function(){var t=Array(3).fill(null).map((function(){return R(0,190)})),e=Object(S["a"])(t,3),n=e[0],a=e[1],i=e[2];this.fills.push({id:this.fills.length+1,color:"rgba("+n+", "+a+", "+i+", 0.5)"}),this.fillChangeHandler()},removeFill:function(t){this.fills.splice(t,1),this.fillChangeHandler()},showOptsHandler:function(){this.showOpts=!this.showOpts,U.a.highlightAll()},resetOpts:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.wavesOpts=JSON.parse(JSON.stringify(N)),this.fills=this.wavesOpts.fills.value.map((function(t,e){return{id:e+1,color:t}})),t&&this.mountWaves()}},created:function(){this.resetOpts(!1);var t=[["flowRate","swayRate","wavelength","randomHeight","offset"],["randomFlowRate","swayVelocity","complexity","curviness","randomOffset"],["","randomSwayRate","randomWavelength"]],e=t.reduce((function(t,e){return e.length>t?e.length:t}),0),n=t.flat();this.propsLayout={cols:e,items:n}},mounted:function(){this.mountWaves()}},G=(n("7c4e"),n("6b0d")),Z=n.n(G);const $=Z()(B,[["render",j]]);var z=$,K=n("af2c"),Q=Object(a["c"])(z);Q.use(K["a"]),Q.mount("#app"),document.title="nice-waves"},"94a3":function(t,e,n){}});
//# sourceMappingURL=app.f4a10deb.js.map